{% extends 'common/user_navbar.html' %}

{% block content %}
<div class="container mt-5">
    <h1>Your Cart</h1>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Product</th>
                <th>Quantity</th>
                <th>Price (₹)</th>
                <th>Total (₹)</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for item in cart %}
            <tr>
                <td>{{ item.product_name }}</td>
                <td>
                    <form method="POST" action="{{ url_for('update_cart') }}" class="d-inline">
    <input type="hidden" name="product_id" value="{{ item.product_id }}">
    <input type="number" name="quantity" value="{{ item.quantity }}"
           class="form-control" style="width: 80px;" min="1">
    <button type="submit" class="btn btn-primary btn-sm mt-1">Update</button>
</form>

                </td>
                <td>₹{{ item.price }}</td>
                <td>₹{{ item.total }}</td>
                <td>
                    <form method="POST" action="{{ url_for('remove_from_cart') }}">
                        <input type="hidden" name="product_id" value="{{ item.product_id }}">
                        <button type="submit" class="btn btn-danger btn-sm">Remove</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="d-flex justify-content-between align-items-center mt-4">
        <h4>Total: ₹{{ cart_total }}</h4>
        <a href="{{ url_for('checkout') }}" class="btn btn-success btn-lg">Proceed to Checkout</a>
    </div>
</div>
        

<footer style="display: flex; flex-flow: row wrap; padding: 30px 30px 20px 30px; color: #2f2f2f; background-color: #fff; border-top: 1px solid #e5e5e5;">
    <div style="margin-right: 1.25em; margin-bottom: 2em;">
        <h3 style="font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; padding-top: 0.3cm;">DashMart</h3>
        <h2 style="margin-top: 1.3em; font-size: 15px; font-weight: 400;">Contact</h2>
        <address style="font-style: normal; color: #999;">
            Holiday Village Road, Vajarahalli Village,<br> Mallasandra, off, Kanakapura Rd,<br> Bengaluru, Karnataka 560109<br>
            <a style="display: flex; align-items: center; justify-content: center; height: 36px; max-width: max-content; background-color: rgba(255, 222, 103, 0.429); border-radius: 100px; color: #2f2f2f; line-height: 0; margin: 0.6em 0; font-size: 1rem; padding: 0 1.3em; text-decoration: none;" href="mailto:example@gmail.com">Email Us</a>
        </address>
    </div>

    <ul style="list-style: none; padding-left: 0; display: flex; flex-flow: row wrap; flex: 1 50%; margin-right: 1.25em;">
        <li style="flex: 1; margin-right: 1.25em;">
            <h2 style="font-weight: 400; font-size: 15px;">Media</h2>
            <ul style="list-style: none; padding-left: 0;">
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">Online</a></li>
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">Print</a></li>
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">Alternative Ads</a></li>
            </ul>
        </li>

        <li style="flex: 1; margin-right: 1.25em;">
            <h2 style="font-weight: 400; font-size: 15px;">Shortcuts</h2>
            <ul style="list-style: none; padding-left: 0; column-count: 2; column-gap: 1.25em;">
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">Home</a></li>
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">Products</a></li>
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">My Orders</a></li>
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">Cart</a></li>
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">
                    About</a></li>
                <li><a style="color: #999; text-decoration: none; line-height: 2em;" href="#">Contact</a></li>
            </ul>
        </li><br>

        <div class="legal" style="display: flex;
        flex-wrap: wrap;
        color: #999; align-content: last baseline;">
            <p>&copy;Copyright 2014-2027 by Refsnes Data 2024 DashMart. All rights reserved.</p>
            
           
          </div>
        </footer>
        {% endblock %}